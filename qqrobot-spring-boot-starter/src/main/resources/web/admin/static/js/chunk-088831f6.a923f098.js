(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-088831f6"],{6890:function(e,n,s){"use strict";s.r(n);var t=function(){var e=this,n=e.$createElement,s=e._self._c||n;return s("div",{staticClass:"home"},[s("el-row",{attrs:{gutter:16}},[s("el-col",{attrs:{span:8}},[s("el-card",{scopedSlots:e._u([{key:"header",fn:function(){return[s("span",[e._v("内存使用情况")])]},proxy:!0}])},[s("div",[s("el-table",{attrs:{data:e.memoryUsage.table}},[s("el-table-column",{attrs:{prop:"rowName",label:""}}),s("el-table-column",{attrs:{prop:"heap",label:"堆"}}),s("el-table-column",{attrs:{prop:"nonHeap",label:"非堆"}})],1)],1)])],1),s("el-col",{attrs:{span:8}},[s("el-card",{scopedSlots:e._u([{key:"header",fn:function(){return[s("span",[e._v("开关")])]},proxy:!0}])},[s("div",{staticClass:"options"},[s("div",{staticClass:"option"},[s("el-switch",{attrs:{disabled:e.switcher.sendTestMessageOnRelogin.disabled},on:{change:e.switchSendTestMessageOnRelogin},model:{value:e.switcher.sendTestMessageOnRelogin.status,callback:function(n){e.$set(e.switcher.sendTestMessageOnRelogin,"status",n)},expression:"switcher.sendTestMessageOnRelogin.status"}}),s("span",{staticClass:"switcher-label"},[e._v("重连时发送测试消息")])],1),s("div",{staticClass:"option"},[s("el-switch",{attrs:{disabled:e.switcher.resendOnSendFailed.disabled},on:{change:e.switchResendOnSendFailed},model:{value:e.switcher.resendOnSendFailed.status,callback:function(n){e.$set(e.switcher.resendOnSendFailed,"status",n)},expression:"switcher.resendOnSendFailed.status"}}),s("span",{staticClass:"switcher-label"},[e._v("发送失败时重发")])],1)])]),s("el-card",{staticStyle:{"margin-top":"16px"},scopedSlots:e._u([{key:"header",fn:function(){return[s("span",[e._v("操作")])]},proxy:!0}])},[s("div",{staticClass:"options"},[s("div",{staticClass:"option"},[s("el-button",{attrs:{type:"primary",loading:e.button.relogin.loading},on:{click:e.relogin}},[e._v("重新登录")]),s("el-button",{attrs:{type:"primary",loading:e.button.sendTestMessage.loading},on:{click:e.sendTestMessage}},[e._v("发送测试消息")])],1)])])],1)],1)],1)},a=[],i=(s("d3b7"),s("b775"));function o(){return Object(i["a"])({url:"/main",method:"get"})}function d(){return Object(i["a"])({url:"/switch/send_test_message",method:"post"})}function l(){return Object(i["a"])({url:"/switch/resend_on_failed",method:"post"})}function r(){return Object(i["a"])({url:"/action/relogin",method:"post"})}function c(){return Object(i["a"])({url:"/action/send_test_message",method:"post"})}var u=s("5c96"),p=s.n(u),h={name:"home",data:function(){var e={initialSize:{rowName:"初始大小",heap:"",nonHeap:""},inUse:{rowName:"已使用",heap:"",nonHeap:""},applied:{rowName:"已申请内存",heap:"",nonHeap:""},maxSize:{rowName:"最大内存",heap:"",nonHeap:"N/A"},percentUsage:{rowName:"内存使用率",heap:"",nonHeap:""}};return{memoryUsage:{data:e,table:[e.initialSize,e.inUse,e.applied,e.maxSize,e.percentUsage]},switcher:{sendTestMessageOnRelogin:{status:!1,disabled:!0},resendOnSendFailed:{status:!1,disabled:!0}},button:{relogin:{loading:!1},sendTestMessage:{loading:!1}}}},methods:{refreshMainInfo:function(){var e=this;o().then((function(n){var s=n.data.system_info;e.memoryUsage.data.initialSize.heap=s.heapInit,e.memoryUsage.data.initialSize.nonHeap=s.nonHeapInit,e.memoryUsage.data.inUse.heap=s.heapUsed,e.memoryUsage.data.inUse.nonHeap=s.nonHeapUsed,e.memoryUsage.data.applied.heap=s.heapCommited,e.memoryUsage.data.applied.nonHeap=s.nonHeapCommited,e.memoryUsage.data.maxSize.heap=s.heapMax,e.memoryUsage.data.percentUsage.heap=s.heapPercentUsage,e.memoryUsage.data.percentUsage.nonHeap=s.nonHeapPercentUsage,e.switcher.sendTestMessageOnRelogin.status=n.data.will_send_test_message_on_relogin,e.switcher.sendTestMessageOnRelogin.disabled=!1,e.switcher.resendOnSendFailed.status=n.data.will_resend_on_send_failed,e.switcher.resendOnSendFailed.disabled=!1}))},switchSendTestMessageOnRelogin:function(){var e=this;this.switcher.sendTestMessageOnRelogin.disabled=!0,d().catch((function(n){e.switcher.sendTestMessageOnRelogin.status=!e.switcher.sendTestMessageOnRelogin.status})).finally((function(){e.switcher.sendTestMessageOnRelogin.disabled=!1}))},switchResendOnSendFailed:function(){var e=this;this.switcher.resendOnSendFailed.disabled=!0,l().catch((function(n){e.switcher.resendOnSendFailed.status=!e.switcher.resendOnSendFailed.status})).finally((function(){e.switcher.resendOnSendFailed.disabled=!1}))},doAction:function(e,n,s){p.a.MessageBox.confirm("确定执行"+e+"吗？",e,{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n.loading=!0,s().then((function(n){p.a.Message({type:"success",message:e+"执行完成"})})).finally((function(){n.loading=!1}))})).catch((function(e){}))},relogin:function(){this.doAction("重新登录",this.button.relogin,r)},sendTestMessage:function(){this.doAction("发送测试信息",this.button.sendTestMessage,c)}},mounted:function(){this.refreshMainInfo()}},g=h,m=(s("f611"),s("2877")),f=Object(m["a"])(g,t,a,!1,null,"9ea6448c",null);n["default"]=f.exports},b09a:function(e,n,s){},f611:function(e,n,s){"use strict";s("b09a")}}]);